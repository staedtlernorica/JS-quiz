// import * as testData from './test.json'
const test = [
  {
    "category": "SGlzdG9yeQ==",
    "type": "Ym9vbGVhbg==",
    "difficulty": "ZWFzeQ==",
    "question": "VGhlIENvbGQgV2FyIGVuZGVkIHdpdGggSm9zZXBoIFN0YWxpbidzIGRlYXRoLg==",
    "correct_answer": "RmFsc2U=",
    "incorrect_answers": [
      "VHJ1ZQ==",
      "RmFsc2U="
    ]
  },
  {
    "category": "U2NpZW5jZTogQ29tcHV0ZXJz",
    "type": "Ym9vbGVhbg==",
    "difficulty": "bWVkaXVt",
    "question": "VGhlIHZlcnkgZmlyc3QgcmVjb3JkZWQgY29tcHV0ZXIgImJ1ZyIgd2FzIGEgbW90aCBmb3VuZCBpbnNpZGUgYSBIYXJ2YXJkIE1hcmsgSUkgY29tcHV0ZXIu",
    "correct_answer": "VHJ1ZQ==",
    "incorrect_answers": [
      "RmFsc2U="
    ]
  },
  {
    "category": "SGlzdG9yeQ==",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "RHVyaW5nIFdXSUksIGluIDE5NDUsIHRoZSBVbml0ZWQgU3RhdGVzIGRyb3BwZWQgYXRvbWljIGJvbWJzIG9uIHRoZSB0d28gSmFwYW5lc2UgY2l0aWVzIG9mIEhpcm9zaGltYSBhbmQgd2hhdCBvdGhlciBjaXR5Pw==",
    "correct_answer": "TmFnYXNha2k=",
    "incorrect_answers": [
      "S2F3YXNha2k=",
      "VG9reW8=",
      "S2Fnb3NoaW1h"
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "V2hvIGlzIHRoZSB3cml0ZXIgb2YgdGhlIGdhbWUgIkhhbGYtTGlmZSI/",
    "correct_answer": "TWFyYyBMYWlkbGF3",
    "incorrect_answers": [
      "R2FiZSBOZXdlbGw=",
      "Um9iaW4gV2Fsa2Vy",
      "Q2hldCBGYWxpc3plaw=="
    ]
  },
  {
    "category": "R2VvZ3JhcGh5",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "SW4gd2hpY2ggRW5nbGlzaCBjb3VudHkgaXMgU3RvbmVoZW5nZT8=",
    "correct_answer": "V2lsdHNoaXJl",
    "incorrect_answers": [
      "U29tZXJzZXQ=",
      "Q3VtYnJpYQ==",
      "SGVyZWZvcmRzaGlyZQ=="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogRmlsbQ==",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "V2hhdCB3YXMgdGhlIHRpdGxlIG9mIHRoZSBmaXJzdCBCb25kIG1vdmllLCByZWxlYXNlZCBpbiAxOTYyPw==",
    "correct_answer": "RHIuIE5v",
    "incorrect_answers": [
      "RnJvbSBSdXNzaWEgd2l0aCBMb3Zl",
      "R29sZGZpbmdlcg==",
      "VGh1bmRlcmJhbGw="
    ]
  },
  {
    "category": "R2VuZXJhbCBLbm93bGVkZ2U=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "V2hhdCBkb2VzIHRoZSAiRyIgbWVhbiBpbiAiRy1NYW4iPw==",
    "correct_answer": "R292ZXJubWVudA==",
    "incorrect_answers": [
      "R29pbmc=",
      "R2hvc3Q=",
      "R2Vyb25pbW8="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "V2hhdCBzbm93eSBtb2Igd2FzIGFkZGVkIGluIE1pbmVjcmFmdCAxLjEwPw==",
    "correct_answer": "UG9sYXIgYmVhcnM=",
    "incorrect_answers": [
      "RXNraW1vcw==",
      "UGVuZ3VpbnM=",
      "V2Fsa2luZyBUTlQ="
    ]
  },
  {
    "category": "R2VvZ3JhcGh5",
    "type": "bXVsdGlwbGU=",
    "difficulty": "aGFyZA==",
    "question": "V2hhdCBpcyB0aGUgbmFtZSBvZiBvbmUgb2YgdGhlIE5lby1BcmFtYWljIGxhbmd1YWdlcyBzcG9rZW4gYnkgdGhlIEpld2lzaCBwb3B1bGF0aW9uIGZyb20gTm9ydGh3ZXN0ZXJuIElyYXE/",
    "correct_answer": "TGlzaGFuYSBEZW5p",
    "incorrect_answers": [
      "SHVsYXVsw6E=",
      "TGlzaGFuIERpZGFu",
      "Q2hhbGRlYW4gTmVvLUFyYW1haWM="
    ]
  },
  {
    "category": "SGlzdG9yeQ==",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "V2hpY2ggb2YgdGhlIGZvbGxvd2luZyBhbmNpZW50IHBlb3BsZXMgd2FzIE5PVCBjbGFzc2lmaWVkIGFzIEhlbGxlbmljIChHcmVlayk/",
    "correct_answer": "SWxseXJpYW5z",
    "incorrect_answers": [
      "RG9yaWFucw==",
      "QWNoYWVhbnM=",
      "SW9uaWFucw=="
    ]
  },
  {
    "category": "R2VvZ3JhcGh5",
    "type": "Ym9vbGVhbg==",
    "difficulty": "bWVkaXVt",
    "question": "VGhlIGxvbmdlc3QgcGxhY2UgbmFtZWQgaW4gdGhlIFVuaXRlZCBTdGF0ZXMgaXMgTGFrZSBDaGFyZ29nZ2Fnb2dnbWFuY2hhdWdnYWdvZ2djaGF1YnVuYWd1bmdhbWF1Z2csIGxvY2F0ZWQgbmVhciBXZWJzdGVyLCBNQS4=",
    "correct_answer": "VHJ1ZQ==",
    "incorrect_answers": [
      "RmFsc2U="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogTXVzaWM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "aGFyZA==",
    "question": "V2hpY2ggb2YgdGhlc2UgYWxpYXNlcyBoYXMgTk9UIGJlZW4gdXNlZCBieSBlbGVjdHJvbmljIG11c2ljaWFuIEFwaGV4IFR3aW4/",
    "correct_answer": "QnVyaWFs",
    "incorrect_answers": [
      "Q2F1c3RpYyBXaW5kb3c=",
      "QnJhZGxleSBTdHJpZGVy",
      "R0FL"
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogTXVzaWM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "aGFyZA==",
    "question": "V2hpY2ggb2YgdGhlc2UgYXJ0aXN0cyBkaWQgTk9UIHJlbWl4IHRoZSBzb25nICJGYWRlZCIgYnkgQWxhbiBXYWxrZXI/",
    "correct_answer": "U2tyaWxsZXg=",
    "incorrect_answers": [
      "VGnDq3N0bw==",
      "U2x1c2hpaQ==",
      "RGFzaCBCZXJsaW4="
    ]
  },
  {
    "category": "SGlzdG9yeQ==",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "SW4gd2hpY2ggeWVhciBkaWQgdGhlIEludmFzaW9uIG9mIEt1d2FpdCBieSBJcmFxIG9jY3VyPw==",
    "correct_answer": "MTk5MA==",
    "incorrect_answers": [
      "MTk5Mg==",
      "MTk4OA==",
      "MTk4Ng=="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "aGFyZA==",
    "question": "SW4gV29ybGQgb2YgV2FyY3JhZnQgbG9yZSwgd2hvIG9yZ2FuaXplZCB0aGUgY3JlYXRpb24gb2YgdGhlIFBhbGFkaW5zPw==",
    "correct_answer": "QWxvbnN1cyBGYW9s",
    "incorrect_answers": [
      "VXRoZXIgdGhlIExpZ2h0YnJpbmdlcg==",
      "QWxleGFuZHJvcyBNb2dyYWluZQ==",
      "U2FyZ2VyYXMsIFRoZSBEYWVtb24gTG9yZA=="
    ]
  },
  {
    "category": "R2VuZXJhbCBLbm93bGVkZ2U=",
    "type": "Ym9vbGVhbg==",
    "difficulty": "ZWFzeQ==",
    "question": "SW4gMjAxMCwgVHdpdHRlciBhbmQgdGhlIFVuaXRlZCBTdGF0ZXMgTGlicmFyeSBvZiBDb25ncmVzcyBwYXJ0bmVyZWQgdG9nZXRoZXIgdG8gYXJjaGl2ZSBldmVyeSB0d2VldCBieSBBbWVyaWNhbiBjaXRpemVucy4=",
    "correct_answer": "VHJ1ZQ==",
    "incorrect_answers": [
      "RmFsc2U="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogSmFwYW5lc2UgQW5pbWUgJiBNYW5nYQ==",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "VGhlIG1haW4gYW50YWdvbmlzdCBvZiB0aGUgc2Vjb25kIHBhcnQgb2YgSm9KbydzIEJpemFycmUgQWR2ZW50dXJlIGlzIHdoaWNoIG9mIHRoZSBmb2xsb3dpbmc/",
    "correct_answer": "S2Fycw==",
    "incorrect_answers": [
      "RXJpbmEgSm9lc3Rhcg==",
      "U2FudGFuYQ==",
      "V2lyZWQgQmVjaw=="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "Ym9vbGVhbg==",
    "difficulty": "ZWFzeQ==",
    "question": "VGhlIDIwMDUgdmlkZW8gZ2FtZSAiQ2FsbCBvZiBEdXR5IDI6IEJpZyBSZWQgT25lIiBpcyBub3QgYXZhaWxhYmxlIG9uIFBDLg==",
    "correct_answer": "VHJ1ZQ==",
    "incorrect_answers": [
      "RmFsc2U="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "V2hvIGlzIHRoZSBsZWFkZXIgb2YgVGVhbSBNeXN0aWMgaW4gUG9rw6ltb24gR28/",
    "correct_answer": "QmxhbmNoZQ==",
    "incorrect_answers": [
      "Q2FuZGVsYQ==",
      "U3Bhcms=",
      "V2lsbG93"
    ]
  },
  {
    "category": "U2NpZW5jZSAmIE5hdHVyZQ==",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "SHVtYW4gY2VsbHMgdHlwaWNhbGx5IGhhdmUgaG93IG1hbnkgY29waWVzIG9mIGVhY2ggZ2VuZT8=",
    "correct_answer": "Mg==",
    "incorrect_answers": [
      "MQ==",
      "NA==",
      "Mw=="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "RHVyaW5nIHRoZSBnYW1lJ3MgZGV2ZWxvcG1lbnQsIHdoYXQgd2FzIHRoZSBmaXJzdCBldmVyIGNyZWF0ZWQgUG9rw6ltb24/",
    "correct_answer": "Umh5aG9ybg==",
    "incorrect_answers": [
      "QnVsYmFzYXVy",
      "TWV3",
      "QXJjZXVz"
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogTXVzaWM=",
    "type": "Ym9vbGVhbg==",
    "difficulty": "bWVkaXVt",
    "question": "IlR3ZW50eSBPbmUgUGlsb3RzIiBtYWRlIHRoZSBzb25nICJUaGUgTW90aW9uIiBmZWF0dXJpbmcgU2FtcGhhLg==",
    "correct_answer": "RmFsc2U=",
    "incorrect_answers": [
      "VHJ1ZQ=="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "V2hvIGFyZSB0aGUgb3JpZ2luYWwgY3JlYXRvcnMgb2YgUmFjaGV0ICYgQ2xhbms/",
    "correct_answer": "SW5zb21uaWFjIEdhbWVz",
    "incorrect_answers": [
      "UGl4ZWxUYWlsIEdhbWVz",
      "UmFyZQ==",
      "QmV0aGVzZGE="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogTXVzaWM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "aGFyZA==",
    "question": "V2hvIGRlc2lnbmVkIHRoZSBhbGJ1bSBjb3ZlciBmb3IgVHJ1ZSBSb21hbmNlLCBhbiBhbGJ1bSBieSBFc3RlbGxlPw==",
    "correct_answer": "UmViZWNjYSBTdWdhcg==",
    "incorrect_answers": [
      "TWF0dCBCdXJuZXR0",
      "SWFuIEpvbmVzIFF1YXJ0ZXk=",
      "QmVuIExldmVu"
    ]
  },
  {
    "category": "TXl0aG9sb2d5",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "QSBtaW5vdGF1ciBpcyBoYWxmIGh1bWFuIGhhbGYgd2hhdD8=",
    "correct_answer": "QnVsbA==",
    "incorrect_answers": [
      "Q293",
      "SG9yc2U=",
      "RWFnbGU="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "V2hhdCBpcyB0aGUgZmlyc3QgcHJpbWFyeSB3ZWFwb24gdGhlIHBsYXllciBnZXRzIGluICJQQVlEQVk6IFRoZSBIZWlzdCI/",
    "correct_answer": "QU1DQVItNA==",
    "incorrect_answers": [
      "QnJlbm5lciAyMQ==",
      "UmVpbmJlY2s=",
      "TTMwOA=="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "V2hpY2ggb2YgdGhlc2UgY2hhcmFjdGVycyB3YXMgTk9UIHBsYW5uZWQgdG8gYmUgcGxheWFibGUgZm9yIFN1cGVyIFNtYXNoIEJyb3MuIDY0Pw==",
    "correct_answer": "UGVhY2g=",
    "incorrect_answers": [
      "Qm93c2Vy",
      "TWV3dHdv",
      "S2luZyBEZWRlZGU="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "V2hhdCBpcyBub3QgYSBkZWZhdWx0IGdhbWUgbW9kZSBpbiBDb3VudGVyLVN0cmlrZSAoMjAwMCk/",
    "correct_answer": "QXJtcyBSYWNl",
    "incorrect_answers": [
      "SG9zdGFnZSBSZXNjdWU=",
      "Qm9tYiBEZWZ1c2Fs",
      "QXNzYXNzaW5hdGlvbg=="
    ]
  },
  {
    "category": "R2VvZ3JhcGh5",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "SW4gdGhlIDIwMTYgR2xvYmFsIFBlYWNlIEluZGV4IHBvbGwsIG91dCBvZiAxNjMgY291bnRyaWVzLCB3aGF0IHdhcyB0aGUgVW5pdGVkIFN0YXRlcyBvZiBBbWVyaWNhIHJhbmtlZD8=",
    "correct_answer": "MTAz",
    "incorrect_answers": [
      "MTA=",
      "NTk=",
      "Nzk="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVGVsZXZpc2lvbg==",
    "type": "Ym9vbGVhbg==",
    "difficulty": "aGFyZA==",
    "question": "VGhlIEtsaW5nb24gaG9tZSBwbGFuZXQgaXMgUW8nbm9TLg==",
    "correct_answer": "VHJ1ZQ==",
    "incorrect_answers": [
      "RmFsc2U="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogSmFwYW5lc2UgQW5pbWUgJiBNYW5nYQ==",
    "type": "Ym9vbGVhbg==",
    "difficulty": "bWVkaXVt",
    "question": "SW4gIkpvSm8ncyBCaXphcnJlIEFkdmVudHVyZSIsIEZhdGhlciBFbnJpY28gUHVjY2hpIHVzZXMgYSB0b3RhbCBvZiAzIHN0YW5kcyBpbiBQYXJ0IDY6IFN0b25lIE9jZWFuLg==",
    "correct_answer": "VHJ1ZQ==",
    "incorrect_answers": [
      "RmFsc2U="
    ]
  },
  {
    "category": "U2NpZW5jZTogQ29tcHV0ZXJz",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "SG93IG1hbnkgdmFsdWVzIGNhbiBhIHNpbmdsZSBieXRlIHJlcHJlc2VudD8=",
    "correct_answer": "MjU2",
    "incorrect_answers": [
      "OA==",
      "MQ==",
      "MTAyNA=="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "V2hpY2ggIlBlcmstQS1Db2xhIiBpbiAiQ2FsbCBPZiBEdXR5OiBab21iaWVzIiB3YXMgInJld29ya2VkIiBpbiAiQ2FsbCBvZiBEdXR5OiBCbGFjayBPcHMgSUkiPw==",
    "correct_answer": "RG91YmxlIFRhcCBSb290IEJlZXI=",
    "incorrect_answers": [
      "V2hvJ3MgV2hv",
      "SnVnZ2Vybm9n",
      "TXVsZSBLaWNr"
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "V2hpY2ggb25lIG9mIHRoZXNlIGdhbWVzIGNhbWUgb3V0IGZpcnN0Pw==",
    "correct_answer": "VGVycmFyaWE=",
    "incorrect_answers": [
      "TWluZWNyYWZ0",
      "U3RhcmJvdW5k",
      "RmFjdG9yaW8="
    ]
  },
  {
    "category": "Q2VsZWJyaXRpZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "Qnkgd2hpY2ggbmFtZSBpcyBSYW1vbiBFc3RldmV6IGJldHRlciBrbm93biBhcz8=",
    "correct_answer": "TWFydGluIFNoZWVu",
    "incorrect_answers": [
      "Q2hhcmxpZSBTaGVlbg==",
      "UmFtb24gU2hlZW4=",
      "RW1pbGlvIEVzdGV2ZXo="
    ]
  },
  {
    "category": "R2VuZXJhbCBLbm93bGVkZ2U=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "V2hlcmUgZGlkIHRoZSBwaW5lYXBwbGUgcGxhbnQgb3JpZ2luYXRlPw==",
    "correct_answer": "U291dGggQW1lcmljYQ==",
    "incorrect_answers": [
      "SGF3YWlp",
      "RXVyb3Bl",
      "QXNpYQ=="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogRmlsbQ==",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "V2hhdCBpcyBMaWxvJ3MgbGFzdCBuYW1lIGZyb20gTGlsbyBhbmQgU3RpdGNoPw==",
    "correct_answer": "UGVsZWthaQ==",
    "incorrect_answers": [
      "QW5vYcq7aQ==",
      "S2VhbG9oYQ==",
      "S3XKu3VsZWk="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogTXVzaWM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "aGFyZA==",
    "question": "V2hhdCBpcyB0aGUgZmlyc3QgdHJhY2sgb24gdGhlIERhdmUgTWF0dGhld3MgQmFuZCBhbGJ1bSAiQmVmb3JlIFRoZXNlIENyb3dkZWQgU3RyZWV0cyI/",
    "correct_answer": "UGFudGFsYSBOYWdhIFBhbXBh",
    "incorrect_answers": [
      "U3RheSAoV2FzdGluZyBUaW1lKQ==",
      "UmFwdW56ZWw=",
      "RG9uJ3QgRHJpbmsgVGhlIFdhdGVy"
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVGVsZXZpc2lvbg==",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "V2hhdCB3YXMgdGhlIG5hbWUgb2YgdGhlIHRlZW5hZ2Ugd2l0Y2ggcGxheWVkIGJ5IE1lbGlzYSBKb2FuIEhhcnQgd2hvIGxpdmVzIHdpdGggaGVyIHdpdGNoIGF1bnRzIEhpbGRhIGFuZCBaZWxkYT8=",
    "correct_answer": "U2FicmluYQ==",
    "incorrect_answers": [
      "SGVybWlvbmU=",
      "RG9yb3RoeQ==",
      "RGFobGlh"
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "aGFyZA==",
    "question": "VGhlIGNyZWF0aW9uIG9mIHRoZSAgRW50ZXJ0YWlubWVudCBTb2Z0d2FyZSBSYXRpbmdzIEJvYXJkIChFU1JCKSBpcyBvZnRlbiBhc3NvY2lhdGVkIHdpdGggTW9ydGFsIEtvbWJhdCBhbmQgd2hhdCBGTVYgdmlkZW8gZ2FtZT8=",
    "correct_answer": "TmlnaHQgVHJhcA==",
    "incorrect_answers": [
      "U2V3ZXIgU2hhcms=",
      "VGhlIERhZWRhbHVzIEVuY291bnRlcg==",
      "Q29ycHNlIEtpbGxlcg=="
    ]
  },
  {
    "category": "U3BvcnRz",
    "type": "Ym9vbGVhbg==",
    "difficulty": "bWVkaXVt",
    "question": "SW4gMjAwOCwgVXNhaW4gQm9sdCBzZXQgdGhlIHdvcmxkIHJlY29yZCBmb3IgdGhlIDEwMCBtZXRlcnMgd2l0aCBvbmUgc2hvZWxhY2UgdW50aWVkLg==",
    "correct_answer": "VHJ1ZQ==",
    "incorrect_answers": [
      "RmFsc2U="
    ]
  },
  {
    "category": "SGlzdG9yeQ==",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "V2hpY2ggb2YgdGhlc2UgMTkwMHMgdGFua3Mgd2VyZSBkZXNpZ25lZCBhbmQgYnVpbHQgQkVGT1JFIHRoZSBvdGhlcnM/",
    "correct_answer": "UmVuYXVsdCBGVA==",
    "incorrect_answers": [
      "TTQgU2hlcm1hbg==",
      "IFBhbnplciBJVg==",
      "Q3JvbXdlbGwg"
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "aGFyZA==",
    "question": "SW4gTGVmdCA0IERlYWQsIHdoYXQgaXMgdGhlIGNoYXJhY3RlciBCaWxsJ3MgbGFzdCBuYW1lPw==",
    "correct_answer": "T3ZlcmJlY2s=",
    "incorrect_answers": [
      "RmlzaA==",
      "Um9iZXJ0cw==",
      "U3RldmVuc29u"
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "V2hpY2ggb2YgdGhlIGZvbGxvd2luZyBpcyBhIGNsYXNzIGluIHRoZSBnYW1lICJIZWFydGhzdG9uZSI/",
    "correct_answer": "UHJpZXN0",
    "incorrect_answers": [
      "U2FnZQ==",
      "Q2xlcmlj",
      "TW9uaw=="
    ]
  },
  {
    "category": "R2VvZ3JhcGh5",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "VGhlIGxvbmdlc3Qgc2hhcmVkIGJvcmRlciBpbiB0aGUgd29ybGQgY2FuIGJlIGZvdW5kIGJldHdlZW4gd2hpY2ggdHdvIG5hdGlvbnM/",
    "correct_answer": "Q2FuYWRhIGFuZCB0aGUgVW5pdGVkIFN0YXRlcw==",
    "incorrect_answers": [
      "Q2hpbGUgYW5kIEFyZ2VudGluYQ==",
      "UnVzc2lhIGFuZCBDaGluYQ==",
      "SW5kaWEgYW5kIFBha2lzdGFu"
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogQm9va3M=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "V2hvIHdyb3RlICJBIFRhbGUgb2YgVHdvIENpdGllcyI/",
    "correct_answer": "Q2hhcmxlcyBEaWNrZW5z",
    "incorrect_answers": [
      "Q2hhcmxlcyBEYXJ3aW4=",
      "TWFyayBUd2Fpbg==",
      "Um9hbGQgRGFobA=="
    ]
  },
  {
    "category": "R2VvZ3JhcGh5",
    "type": "bXVsdGlwbGU=",
    "difficulty": "aGFyZA==",
    "question": "V2hpY2ggaXMgbm90IGEgY291bnRyeSBpbiBBZnJpY2E/",
    "correct_answer": "R3V5YW5h",
    "incorrect_answers": [
      "U2VuZWdhbA==",
      "TGliZXJpYQ==",
      "U29tYWxpYQ=="
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "ZWFzeQ==",
    "question": "SW4gRGl2aW5pdHk6IE9yaWdpbmFsIFNpbiBJSSwgd2hhdCBpcyB0aGUgbmFtZSBvZiB0aGUgc2tlbGV0YWwgb3JpZ2luIGNoYXJhY3Rlcj8=",
    "correct_answer": "RmFuZQ==",
    "incorrect_answers": [
      "TG9oc2U=",
      "VGhlIFJlZCBQcmluY2U=",
      "VGhlcmUgYXJlIG5vIHNrZWxldGFsIG9yaWdpbiBjaGFyYWN0ZXJz"
    ]
  },
  {
    "category": "RW50ZXJ0YWlubWVudDogVmlkZW8gR2FtZXM=",
    "type": "bXVsdGlwbGU=",
    "difficulty": "bWVkaXVt",
    "question": "V2hvIGlzIHRoZSBoYWxmLWRlbW9uIGNoYXJhY3RlciBpbiBEaXZpbml0eTogT3JpZ2luYWwgU2luIDIgd2hvIHlvdSB0YWxrIHRvIHRvIHRyYW5zaXRpb24gYmV0d2VlbiBhY3RzPw==",
    "correct_answer": "TWFsYWR5",
    "incorrect_answers": [
      "TWVpc3RlciBTaXZh",
      "R2F3aW4=",
      "RXh0ZXI="
    ]
  }
];


// submit user's choice to API, eg 12 questions, History category, hard questions etc
$('#settings button[type=submit]').on('click', function (event) {
  event.preventDefault();

  // wait 0.2s before closing so dont feel so abrupt
  setTimeout(() => {
    $('#settings').hide()
    $('.overlay').css('z-index', -100)
    $('.overlay').css('background-color', 'rgba(0,0,0,0')
    $('.settings').css('z-index', -100)
  }, 200);

  // wait so they can see simpsons reference
  setTimeout(() => {
    getQuizArrayAndStart();
  }, 1500);
})


$('.playAgain').on('click', function (event) {
  event.preventDefault();

  // dont feel abrupt again
  setTimeout(() => {
    $('#replay').hide()
    $('#settings').show()
  }, 200);

})

$('.viewAnswers').on('click', function (event) {
  event.preventDefault();

  alert("Coming soon")

})



// turn click event for answer boxes on or off (want off at certain times b/c clicking on answer box twice or more will trigger displayQuestion twice in quick succession and skips over question(s))
function buttonClickOnOff(on) {
  on === 1 ?
    $('.box').on('click', function () { checkAnswer($(this)) }) :
    $('.box').off('click');
}

// the JSON object returned by the API
let entireQuizArray = [];

function displayQuestion() {



  // if theres no question object left in the JSON object, stop the quiz
  // make replay array visible; play again or view score
  // make entire screen/overlay dark to focus on popup div
  if (entireQuizArray.length === 0) {

      $('.overlay').css('z-index', 100)
      $('.overlay').css('background-color', 'rgba(0,0,0,0.7')
      $('.settings').css('z-index', 100)
      $('#replay').show()


  } else {

    // window.atob() converts base64 to normal text
    $('#question').empty()
    $('#question').append($("<h2>").text(window.atob(entireQuizArray[0].question)));

    // combine wrong answer(s) and right answer into allAnswers array, then need to shuffle with .sort() or the correct answer will always be the last one/the 4th box
    const correctAnswer = entireQuizArray[0].correct_answer;
    let allAnswers = entireQuizArray[0].incorrect_answers;
    allAnswers.push(correctAnswer);
    allAnswers.sort();

    // ['True', 'False'].sort() gives ['False', 'True'], so want to reverse this; reversing a shuffled array with 4 answers is still random so no problem
    allAnswers.reverse();

    // if T/F question, hide 3rd/4th box; vice versa for M/C question
    (window.atob(entireQuizArray[0].type) === 'boolean') ?
      $(".box2, .box3").hide() :
      $(".box2, .box3").show();


    // look for index of correct answer in allAnswers array, then apply id #correct to correspoding answer box box0/1/2/3 
    const correctAnswerIndex = allAnswers.indexOf(correctAnswer);
    $(`.box${correctAnswerIndex}`).attr('id', 'correct');

    // apply answers strings to boxes
    for (i = 0; i < allAnswers.length; i++) {

      // empty to remvoe <a> easter eggs
      $(`.box${i}`).empty();
      $(`.box${i}`).text(window.atob(allAnswers[i]));
    }

    // now allow boxes to be clicked for evaluating
    buttonClickOnOff(1);
  }
}


function checkAnswer(boxObject) {

  buttonClickOnOff(0);      //off so user cant click on other boxes while evaluating
  $('#correct').addClass('right');  //correct box turns green 

  // if the box the user clicked doesnt have id #correct, highlight the box red
  (boxObject[0].id !== 'correct') ?
    boxObject.addClass('wrong') : null;


  $('.box').attr('id', '');   //remove all id (but raelly only #correct) from all boxes
  entireQuizArray.shift();    //remove current question object from API question array 

  // wait 1 sec so user can look at right/wrong answer, then remove classes to remove
  // green/red highlight, and then call displayQuestion to set up next question
  setTimeout(function () {
    $('.box').removeClass('right wrong');
    displayQuestion();
  }
    , 1000)
}


// run only once to get quiz array from API, then call displayQuestion to show question on screen and initiate quiz
function getQuizArrayAndStart() {

  $.ajax({
    url: "https://opentdb.com/api.php",
    method: "GET",
    dataType: "json",
    data: {
      amount: $('input[name=trivia_amount]').val(),          //any number
      category: $('select[name=trivia_category]').val(),     //9 to 32
      difficulty: $('select[name=trivia_difficulty]').val(), //easy, medium or hard
      type: $('select[name=trivia_type]').val(),             //multiple or boolean

      // base64 gets rid of HTML special entities encoding error
      encode: 'base64'      //base64, url3986, '' = default encoding

    }
  }).then(function (data) {
    entireQuizArray = data.results;
    
    // for tseting; remove when done
    // entireQuizArray = test;


    console.log(data.results)
    displayQuestion();
  });
}